
<!doctype html>
<html lang=en>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Conway's Game of Life</title>
<meta name="description" content="A JavaScript version of Conway's Game of Life, based on the Hashlife-algorithm.">
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap');
    body {
    background-color: #000;
    margin: 0px;
    color: #ccc;
    font-family: 'Major Mono Display', monospace;
    height: 100%;
    overflow: hidden;
    cursor: url('https://ldstabler.github.io/resources/dmz/left_ptr.png');
}
html {
    height: 100%;
    margin: 0px;
}
#toolbar {
    position: fixed;
    top: 0px;
    right: 0px;
    z-index: 10;
    color: #000;
    width: 100%;
    height: 0;
    overflow: visible;
}
#toolbar > div {
    float: right;
}
#statusbar > div {
    float: right;
    border-left: 1px solid #ccc;
    text-align: center;
}
#controls {
    padding: 5px;
}
#controls td div {
    background-color: #ccc;
    width: 18px;
    height: 18px;
    margin: 2px 1px;
    font-weight: bold;
    text-align: center;

    cursor: url("https://ldstabler.github.io/resources/dmz/hand2.png");
    box-shadow: 2px 2px 3px #ccc;
    -webkit-user-select: none;
    -moz-user-select: none;
    font-size: 80%;
    line-height: 150%;
}
#statusbar {
    position: fixed;
    bottom: 25px;
    height: 0;
    right: 0px;
    font-size: 13px;
    z-index: 11;
    width: 99%;
    text-shadow: 0px 0px 1px #ccc;
    -webkit-user-select: none;
    -moz-user-select: none;
}
#label_step:before {
    content: "Step: ";
}
#label_fps:before {
    content: "FPS: ";
}
#label_gen:before {
    content: "Gen: ";
}
#label_pop:before {
    content: "Pop: ";
}
#label_gen, #label_pop, #label_mou, #label_zoom, #label_step, #label_fps {
    padding: 0px 1vw;
}
.button, .menu {
    margin-top: 5px;
}
.button, .menu > div {
    background-color: #ccc;
    cursor: url("https://ldstabler.github.io/resources/dmz/hand2.png");
    padding: 0px 0.5vw;
    margin-right: 1vw;
    margin-bottom: 7px;
    box-shadow: 2px 2px 3px #ccc;
    -webkit-user-select: none;
    -moz-user-select: none;
}
#overlay {
    background-color: #000;
    position: absolute;
    top: 50px;
    padding: 20px 5px 50px;
    font-size: 13px;
    color: #ddd;
    z-index: 10;
    line-height: 1.4;
    border-style: solid;
    border-color: #444;
    border-width: 2px 0px;
    width: 100%;
}
@media (min-width: 850px) {
    #overlay {
        border-width: 2px;
        border-radius: 15px;
        left: 50%;
        margin-left: -400px;
        width: 700px;
        padding: 50px;
    }
}
@media (max-width: 800px) {
    #label_mou {
        display: none;
    }
    .button {
        padding: 0px 4px;
    }
    .not_on_small_screen {
        display: none;
    }
}
#pattern_name {
    cursor: url("https://ldstabler.github.io/resources/dmz/hand2.png");
}
.button2 {
    border: 1px solid #fff;
    cursor: url("https://ldstabler.github.io/resources/dmz/hand2.png");
    padding: 5px 20px;
    margin: 0px 20px;
}
.button2:hover {
    background-color: #123;
}
#import_text {
    background-color: #000;
    border: 1px solid #fff;
    display: block;
    width: 100%;
    height: 200px;
    color: #fff;
}
#loading {
    font-family: monospace;
    text-align: center;
    font-size: 36px;
}
input[type=number], input[type=text] {
    border: 1px solid #fff;
    color: #fff;
    background-color: #000;
    padding: 2px;
    width: 110px;
    text-align: center;
}
a, .link {
    color: #ff0;
    padding: 0px 1px;
    cursor: url("https://ldstabler.github.io/resources/dmz/hand2.png");
    text-decoration: none;
}
a:hover, .link:hover {
    text-decoration: underline;
}
#pattern_description {
    white-space: pre-wrap;
}
#alert_text {
    max-height: 300px;
    overflow: auto;
}
canvas {
    position: absolute;
}
#pattern_chooser > div {
    height: 500px;
}
#pattern_chooser > div > div {
    padding: 3px;
    float: left;
    width: 215px;
    cursor: url("https://ldstabler.github.io/resources/dmz/hand2.png");
}
#pattern_chooser > div > div:hover {
    color: #000;
    background-color: #ff0;
}
#pattern_chooser span.size {
    color: #999;
    font-size: 80%;
    margin-left: 7px;
}
#pattern_list {
    overflow-x: hidden;
}
br.clear {
    clear: both;
}
.left {
    float: left;
}
.right {
    float: right;
}
#overlay h2 {
    margin-top: 0;
}
#pattern_file_container, #pattern_link_container, #pattern_urls {
    overflow: hidden;
    text-overflow: ellipsis;
}
</style>
<script>function ba(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function fa(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ba(a)}}var ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ia="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ja(){ja=function(){};ia.Symbol||(ia.Symbol=ka)}function ma(a,b){this.a=a;ha(this,"description",{configurable:!0,writable:!0,value:b})}ma.prototype.toString=function(){return this.a};var ka=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ma("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
function pa(){ja();var a=ia.Symbol.iterator;a||(a=ia.Symbol.iterator=ia.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ha(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return qa(ba(this))}});pa=function(){}}function qa(a){pa();a={next:a};a[ia.Symbol.iterator]=function(){return this};return a}var ra;
if("function"==typeof Object.setPrototypeOf)ra=Object.setPrototypeOf;else{var sa;a:{var ta={X:!0},ua={};try{ua.__proto__=ta;sa=ua.X;break a}catch(a){}sa=!1}ra=sa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var va=ra;function xa(){this.l=!1;this.i=null;this.u=void 0;this.a=1;this.o=0;this.j=null}function ya(a){if(a.l)throw new TypeError("Generator is already running");a.l=!0}xa.prototype.m=function(a){this.u=a};
function za(a,b){a.j={Y:b,$:!0};a.a=a.o}xa.prototype.return=function(a){this.j={return:a};this.a=this.o};function Aa(a,b,c){a.a=c;return{value:b}}function Ba(a){this.a=new xa;this.i=a}function Ca(a,b){ya(a.a);var c=a.a.i;if(c)return Da(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a.return);a.a.return(b);return Ea(a)}
function Da(a,b,c,d){try{var g=b.call(a.a.i,c);if(!(g instanceof Object))throw new TypeError("Iterator result "+g+" is not an object");if(!g.done)return a.a.l=!1,g;var k=g.value}catch(r){return a.a.i=null,za(a.a,r),Ea(a)}a.a.i=null;d.call(a.a,k);return Ea(a)}function Ea(a){for(;a.a.a;)try{var b=a.i(a.a);if(b)return a.a.l=!1,{value:b.value,done:!1}}catch(c){a.a.u=void 0,za(a.a,c)}a.a.l=!1;if(a.a.j){b=a.a.j;a.a.j=null;if(b.$)throw b.Y;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function Fa(a){this.next=function(b){ya(a.a);a.a.i?b=Da(a,a.a.i.next,b,a.a.m):(a.a.m(b),b=Ea(a));return b};this.throw=function(b){ya(a.a);a.a.i?b=Da(a,a.a.i["throw"],b,a.a.m):(za(a.a,b),b=Ea(a));return b};this.return=function(b){return Ca(a,b)};pa();this[Symbol.iterator]=function(){return this}}function Ga(a,b){b=new Fa(new Ba(b));va&&va(b,a.prototype);return b}
function Ha(a,b){if(b){var c=ia;a=a.split(".");for(var d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ha(c,a,{configurable:!0,writable:!0,value:b})}}function Ia(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
Ha("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=Ia(this,b,"startsWith"),g=d.length,k=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var r=0;r<k&&c<g;)if(d[c++]!=b[r++])return!1;return r>=k}});Ha("String.prototype.endsWith",function(a){return a?a:function(b,c){var d=Ia(this,b,"endsWith");void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var g=b.length;0<g&&0<c;)if(d[--c]!=b[--g])return!1;return 0>=g}});
function Ja(){function a(n,u,A,I){0===n.h||0>A+u+r||0>I+u+x||A+r>=f||I+x>=l||(1>=u?n.h&&b(A+r|0,I+x|0,1):0===n.level?n.h&&b(A+r,I+x,C.a):(u/=2,a(n.c,u,A,I),a(n.b,u,A+u,I),a(n.g,u,A,I+u),a(n.f,u,A+u,I+u)))}function b(n,u,A){var I=A-=L;0>n&&(A+=n,n=0);n+A>f&&(A=f-n);0>u&&(I+=u,u=0);u+I>l&&(I=l-u);if(!(0>=A||0>=I)){n+=u*f;u=f-A;for(var na=F.r|F.M<<8|F.L<<16|-16777216,wa=0;wa<I;wa++){for(var oa=0;oa<A;oa++)J[n]=na,n++;n+=u}}}function c(n,u,A){n?(r-=Math.round((r-u)/2),x-=Math.round((x-A)/2),C.a/=2):(r+=
Math.round(r-u),x+=Math.round(x-A),C.a*=2)}function d(n){c(n,f>>1,l>>1)}function g(n){for(;C.a>n;)d(!0);for(;2*C.a<n;)d(!1)}function k(n){return 4===n.length?{r:parseInt(n[1]+n[1],16),M:parseInt(n[2]+n[2],16),L:parseInt(n[3]+n[3],16)}:{r:parseInt(n.slice(1,3),16),M:parseInt(n.slice(3,5),16),L:parseInt(n.slice(5,7),16)}}var r=0,x=0,f,l,q,w,p,J,L,F,C=this,e=1;this.u=this.j=null;this.i=0;this.K=function(){var n=document.body;q=document.createElement("canvas");if(!q.getContext)return!1;C.canvas=q;w=q.getContext("2d");
n.appendChild(q);return!0};this.m=function(n){var u=k(C.u);u=u.r|u.M<<8|u.L<<16|-16777216;L=C.i*C.a|0;F=k(C.j);for(var A=f*l,I=0;I<A;I++)J[I]=u;u=Math.pow(2,n.level-1)*C.a;a(n,2*u,-u,-u);w.putImageData(p,0,0)};this.l=function(n,u){r+=Math.round(n*e);x+=Math.round(u*e)};this.W=function(n,u,A){c(n,u*e,A*e)};this.o=d;this.J=function(n){var u=n.right-n.left,A=n.bottom-n.top;if(isFinite(u)&&isFinite(A)){var I=Math.min(16,f/u,l/A);g(I);u=Math.round(f/2-(n.left+u/2)*C.a);n=Math.round(l/2-(n.top+A/2)*C.a)}else g(16),
u=f>>1,n=l>>1;r=u;x=n};this.D=function(){var n=window.innerWidth,u=document.body.offsetHeight;if(n!==f||u!==l){q.style.width=n+"px";q.style.height=u+"px";var A=window.devicePixelRatio;e=A;q.width=Math.round(n*A);q.height=Math.round(u*A);f=q.width;l=q.height;p=w.createImageData(f,l);J=new Int32Array(p.data.buffer);for(A=0;A<n*u;A++)J[A]=-16777216}};this.G=function(n,u,A){n=n*C.a+r;u=u*C.a+x;var I=Math.ceil(C.a)-(C.a*C.i|0);w.fillStyle=A?C.j:C.u;w.fillRect(n,u,I,I)};this.A=function(){r=f>>1;x=l>>1};
this.C=function(n,u){return{x:Math.floor((n*e-r+C.i/2)/C.a),y:Math.floor((u*e-x+C.i/2)/C.a)}}};function Ka(){this.J=this.a=this.C=0;this.i=[];this.m=[];this.u=[];this.G=new Float64Array(1024);for(var a=this.G[0]=1;1024>a;a++)this.G[a]=2*this.G[a-1];this.l=new Int8Array(1880);this.l.set([0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4]);for(a=16;1880>a;a++)this.l[a]=this.l[a&15]+this.l[a>>4&15]+this.l[a>>8];this.v=8;this.w=12;this.A=this.root=null;this.j=this.step=0;this.o={id:3,h:0,level:0};this.D={id:2,h:1,level:0};Oa(this)}function Pa(a,b){return 1024<=b?Infinity:a.G[b]}
function Qa(a,b){return(b&32?a.w:a.v)>>a.l[b&1879]&1}function Ra(a,b){return E(a,b&1?a.D:a.o,b&2?a.D:a.o,b&4?a.D:a.o,b&8?a.D:a.o)}function Sa(a,b,c){return Ta({x:b,y:c})>a.root.level?!1:Ua(a,a.root,b,c)}function Va(a){if(0===a.root.h)return{top:0,left:0,bottom:0,right:0};var b={top:Infinity,left:Infinity,bottom:-Infinity,right:-Infinity},c=Pa(a,a.root.level-1);Wa(a,a.root,-c,-c,15,b);return b}function Xa(a,b){if(a.m[b])return a.m[b];var c;1===b?c=a.o:c=Xa(a,b-1);return a.m[b]=E(a,c,c,c,c)}
function Ya(a,b){var c=Xa(a,b.level-1);return E(a,E(a,c,c,c,b.c),E(a,c,c,b.b,c),E(a,c,b.g,c,c),E(a,b.f,c,c,c))}function Za(a,b){for(var c=0;c<=a.a;c++){var d=a.i[c];void 0!==d&&(d.cache=null,d.F=void 0,b&&(d.B=null))}}function E(a,b,c,d,g){for(var k=(23*(23*(23*b.id^c.id)^d.id)^g.id)&a.a,r=a.i[k],x;;){if(void 0===r){if(a.C>a.J)return $a(a),E(a,b,c,d,g);b=new a.K(b,c,d,g,a.C++);void 0!==x?x.F=b:a.i[k]=b;return b}if(r.c===b&&r.b===c&&r.g===d&&r.f===g)return r;x=r;r=r.F}}
function ab(a,b){for(var c=a.root;b&&c.level<=a.step+2||c.c.h!==c.c.f.f.h||c.b.h!==c.b.g.g.h||c.g.h!==c.g.b.b.h||c.f.h!==c.f.c.c.h;)c=Ya(a,c);b?(a.j+=Pa(a,a.step),c=bb(a,c)):(a.j+=Pa(a,a.root.level-2),c=V(a,c));a.root=c}function $a(a){16777215>a.a&&(a.a=a.a<<1|1,a.i=[]);a.J=.9*a.a|0;for(var b=0;b<=a.a;b++)a.i[b]=void 0;a.C=4;cb(a,a.root)}function Oa(a){a.C=4;a.a=65535;a.J=.9*a.a|0;a.i=[];a.m=[];a.u=Array(65536);for(var b=0;b<=a.a;b++)a.i[b]=void 0;a.root=Xa(a,3);a.j=0}
function db(a,b){if(!a.length)return{top:0,left:0,bottom:0,right:0};for(var c={top:b[0],left:a[0],bottom:b[0],right:a[0]},d=a.length,g=1;g<d;g++){var k=a[g],r=b[g];k<c.left?c.left=k:k>c.right&&(c.right=k);r<c.top?c.top=r:r>c.bottom&&(c.bottom=r)}return c}function Ta(a){for(var b=4,c=Object.keys(a),d=0;d<c.length;d++){var g=a[c[d]];g+1>b?b=g+1:-g>b&&(b=-g)}return Math.ceil(Math.log(b)/Math.LN2)+1}
function eb(a,b,c){var d=Math.round((c.left-c.right)/2)-c.left,g=Math.round((c.top-c.bottom)/2)-c.top;ib(a,b,d,g);c.left+=d;c.right+=d;c.top+=g;c.bottom+=g}function ib(a,b,c,d){for(var g=a.length,k=0;k<g;k++)a[k]+=c,b[k]+=d}function jb(a,b,c,d){void 0===d&&(d=db(b,c));d=Ta(d);var g=Pa(a,d-1),k=b.length;ib(b,c,g,g);a.root=kb(a,0,k-1,b,c,d)}
function lb(a,b,c,d,g){for(var k=a,r=b,x;k<=r;){for(;k<=b&&0===(c[k]&g);)k++;for(;r>a&&c[r]&g;)r--;if(k>=r)break;x=c[k];c[k]=c[r];c[r]=x;x=d[k];d[k]=d[r];d[r]=x;k++;r--}return k}
function kb(a,b,c,d,g,k){if(b>c)return Xa(a,k);if(2===k){k=0;for(var r,x=b;x<=c;x++)b=d[x],r=g[x],k|=1<<(b&1|(r&1|b&2)<<1|(r&2)<<2);return a.u[k]?a.u[k]:a.u[k]=E(a,Ra(a,k),Ra(a,k>>4),Ra(a,k>>8),Ra(a,k>>12))}k--;var f=1<<k;r=lb(b,c,g,d,f);x=lb(b,r-1,d,g,f);f=lb(r,c,d,g,f);return E(a,kb(a,b,x-1,d,g,k),kb(a,x,r-1,d,g,k),kb(a,r,f-1,d,g,k),kb(a,f,c,d,g,k))}function Y(a,b){b!==a.step&&(a.step=b,Za(a,!1),a.m=[],a.u=Array(65536))}
function mb(a,b,c){if(a.w!==b||a.v!==c)a.w=b,a.v=c,Za(a,!0),a.m=[],a.u=Array(65536)}Ka.prototype.K=function(a,b,c,d,g){this.c=a;this.b=b;this.g=c;this.f=d;this.id=g;this.level=a.level+1;this.h=a.h+b.h+c.h+d.h;this.B=this.cache=null;this.F=void 0};function nb(a,b,c,d,g){if(0===b.level)return g?a.D:a.o;var k=1===b.level?0:Pa(a,b.level-2),r=b.c,x=b.b,f=b.g;b=b.f;0>c?0>d?r=nb(a,r,c+k,d+k,g):f=nb(a,f,c+k,d-k,g):0>d?x=nb(a,x,c-k,d+k,g):b=nb(a,b,c-k,d-k,g);return E(a,r,x,f,b)}
function Ua(a,b,c,d){if(0===b.h)return!1;if(0===b.level)return!0;var g=1===b.level?0:Pa(a,b.level-2);return 0>c?0>d?Ua(a,b.c,c+g,d+g):Ua(a,b.g,c+g,d-g):0>d?Ua(a,b.b,c-g,d+g):Ua(a,b.f,c-g,d-g)}function ob(a,b){var c=b.c,d=b.b,g=b.g;b=b.f;c=c.c.h<<15|c.b.h<<14|d.c.h<<13|d.b.h<<12|c.g.h<<11|c.f.h<<10|d.g.h<<9|d.f.h<<8|g.c.h<<7|g.b.h<<6|b.c.h<<5|b.b.h<<4|g.g.h<<3|g.f.h<<2|b.g.h<<1|b.f.h;return Ra(a,Qa(a,c>>5)|Qa(a,c>>4)<<1|Qa(a,c>>1)<<2|Qa(a,c)<<3)}
function bb(a,b){if(b.cache)return b.cache;if(a.step===b.level-2)return V(a,b);if(2===b.level)return b.B?b.B:b.B=ob(a,b);var c=b.c,d=b.b,g=b.g,k=b.f,r=E(a,c.c.f,c.b.g,c.g.b,c.f.c),x=E(a,c.b.f,d.c.g,c.f.b,d.g.c),f=E(a,d.c.f,d.b.g,d.g.b,d.f.c),l=E(a,c.g.f,c.f.g,g.c.b,g.b.c);c=E(a,c.f.f,d.g.g,g.b.b,k.c.c);d=E(a,d.g.f,d.f.g,k.c.b,k.b.c);var q=E(a,g.c.f,g.b.g,g.g.b,g.f.c);g=E(a,g.b.f,k.c.g,g.f.b,k.g.c);k=E(a,k.c.f,k.b.g,k.g.b,k.f.c);return b.cache=E(a,bb(a,E(a,r,x,l,c)),bb(a,E(a,x,f,c,d)),bb(a,E(a,l,c,
q,g)),bb(a,E(a,c,d,g,k)))}function V(a,b){if(null!==b.B)return b.B;if(2===b.level)return b.B=ob(a,b);var c=b.c,d=b.b,g=b.g,k=b.f,r=V(a,c),x=V(a,E(a,c.b,d.c,c.f,d.g)),f=V(a,d),l=V(a,E(a,c.g,c.f,g.c,g.b));c=V(a,E(a,c.f,d.g,g.b,k.c));d=V(a,E(a,d.g,d.f,k.c,k.b));var q=V(a,g);g=V(a,E(a,g.b,k.c,g.f,k.g));k=V(a,k);return b.B=E(a,V(a,E(a,r,x,l,c)),V(a,E(a,x,f,c,d)),V(a,E(a,l,c,q,g)),V(a,E(a,c,d,g,k)))}
function cb(a,b){var c;a:for(c=a.i[(23*(23*(23*b.c.id^b.b.id)^b.g.id)^b.f.id)&a.a];;){if(void 0===c){c=!1;break a}if(c===b){c=!0;break a}c=c.F}if(!c){b.id=a.C++;b.F=void 0;1<b.level&&(cb(a,b.c),cb(a,b.b),cb(a,b.g),cb(a,b.f),b.cache&&cb(a,b.cache),b.B&&cb(a,b.B));c=(23*(23*(23*b.c.id^b.b.id)^b.g.id)^b.f.id)&a.a;for(var d=a.i[c],g;;){if(void 0===d){void 0!==g?g.F=b:a.i[c]=b;break}g=d;d=d.F}}}
function Wa(a,b,c,d,g,k){if(0!==b.h&&g)if(0===b.level)c<k.left&&(k.left=c),c>k.right&&(k.right=c),d<k.top&&(k.top=d),d>k.bottom&&(k.bottom=d);else{var r=Pa(a,b.level-1);if(!(c>=k.left&&c+2*r<=k.right&&d>=k.top&&d+2*r<=k.bottom)){var x=g,f=g,l=g;b.c.h&&(f&=-3,l&=-2,g&=-4);b.g.h&&(g&=-2,x&=-9,l&=-10);b.b.h&&(x&=-5,g&=-3,f&=-7);b.f.h&&(f&=-5,l&=-9,x&=-13);Wa(a,b.c,c,d,x,k);Wa(a,b.g,c,d+r,f,k);Wa(a,b.b,c+r,d,l,k);Wa(a,b.f,c+r,d+r,g,k)}}};var pb=function(){function a(f){var l=c(f,"#"),q=0,w=0,p,J=/([a-zA-Z]+) *= *([a-zA-Z0-9\/()]+)/g;f=l.T;var L=f.indexOf("\n");if(-1===L)return{error:"RLE Syntax Error: No Header"};for(;p=J.exec(f.substr(0,L));)switch(p[1]){case "x":l.width=Number(p[2]);break;case "y":l.height=Number(p[2]);break;case "rule":l.w=k(p[2],!0);l.v=k(p[2],!1);l.s+="\nRule: "+d(l.w,l.v)+"\n";l.U=d(l.w,l.v);break;case "alpha":case "color":break;default:return{error:"RLE Syntax Error: Invalid Header: "+p[1]}}var F=256;l.width&&
l.height&&(p=l.width*l.height,0<p&&(F=Math.max(F,.009*p|0),F=Math.min(16777216,F)));p=1;J=!1;for(var C=new Int32Array(F),e=new Int32Array(F),n=0,u=f.length;L<u;L++)if(F=f.charCodeAt(L),48<=F&&57>=F)J?(p*=10,p+=F^48):(p=F^48,J=!0);else{if(98===F)q+=p;else if(65<=F&&90>=F||97<=F&&122>F)for(n+p>C.length&&(C=b(C),e=b(e));p--;)C[n]=q++,e[n]=w,n++;else if(36===F)w+=p,q=0;else if(33===F)break;p=1;J=!1}l.H=new Int32Array(C.buffer,0,n);l.I=new Int32Array(e.buffer,0,n);return l}function b(f){var l=new Int32Array(1.5*
f.length|0);l.set(f);return l}function c(f,l){for(var q={s:"",urls:[],O:""},w,p,J,L="#"===l;f[0]===l;){w=f.indexOf("\n");p=f.substr(1,w-1);J=!0;if(L)switch(p=p.substr(1).trim(),f[1]){case "N":p?q.title=p:q.U="23/3";J=!1;break;case "C":case "D":q.O||(q.O=p);break;case "O":q.ca=p;break;case "R":q.U=p;J=!1;break;default:J=!1}J&&(/^(?:https?:\/\/|www\.)[a-z0-9]/i.test(p)?("http"!==p.substr(0,4)&&(p="http://"+p),q.urls.push(p)):"Name:"===p.substr(0,5)?q.title=p.substr(5):(q.s+=p,70!==w&&80!==w&&(q.s+=
"\n")));f=f.substr(w+1)}q.T=f;q.s=q.s.trim();return q}function d(f,l){for(var q="",w=0;f;f>>=1,w++)f&1&&(q+=w);q+="/";for(w=0;l;l>>=1,w++)l&1&&(q+=w);return q}function g(f,l){f=pb.V(f,l);f=f.split("/");return f="B"+f[1]+"/S"+f[0]}function k(f,l){f=f.split("/");if(!f[1])return!1;if(Number(f[0]))return r(f.join("/"),l);"b"===f[0][0].toLowerCase()&&f.reverse();return r(f[0].substr(1)+"/"+f[1].substr(1),l)}function r(f,l){var q=0;f=f.split("/")[l?0:1];for(l=0;l<f.length;l++){var w=Number(f[l]);if(isNaN(w)||
q&1<<w)return!1;q|=1<<w}return q}function x(f,l){function q(n,u){console.assert(0<=n);if(0===n)return"";var A="";1<n&&(A=String(n));return A+(u?"b":"o")}var w,p,J,L,F,C,e;return Ga(x,function(n){switch(n.a){case 1:w=l.top;case 2:if(!(w<=l.bottom))return Aa(n,"!",0);p=!0;L=J=l.left;case 5:if(!(L<=l.right)){if(p){n.a=10;break}e=l.right+1-J;return Aa(n,q(e,p),10)}F=!Sa(f,L,w);C=L-J;console.assert(0<=C);if(p===F){n.a=6;break}return Aa(n,q(C,p),9);case 9:J=L,p=F;case 6:L++;n.a=5;break;case 10:if(w===l.bottom){n.a=
3;break}return Aa(n,"$",3);case 3:w++,n.a=2}})}return{da:a,ba:function(f){f=f.replace(/\r/g,"");if("!"===f[0])a:{var l=c(f,"!");f=l.T;for(var q=[],w=[],p=0,J=0,L=f.length,F=0;F<L;F++)switch(f[F]){case ".":p++;break;case "O":q.push(p++);w.push(J);break;case "\n":J++;p=0;break;case "\r":case " ":break;default:f={error:"Plaintext: Syntax Error"};break a}l.H=q;l.I=w;f=l}else if(/^(?:#[^\n]*\n)*\n*(?:(?:x|y|rule|color|alpha) *= *[a-z0-9\/(),]+,? *)+\s*\n/i.test(f))f=a(f);else if("#Life 1.06"===f.substr(0,
10)){l=/\s*(-?\d+)\s+(-?\d+)\s*(?:\n|$)/g;w=[];for(p=[];q=l.exec(f);)w.push(Number(q[1])),p.push(Number(q[2]));f={H:w,I:p}}else f={error:"Format detection failed."};return f},V:d,S:r,aa:c,Z:function(f,l,q){var w=[];l&&w.push("#N "+l);w.push.apply(w,q.map(function(L){return"#C "+L}));l=Va(f);q=l.right-l.left+1;var p=l.bottom-l.top+1,J=g(f.w,f.v);w.push("x = "+q+", y = "+p+", rule = "+J);q="";f=fa(x(f,l));for(l=f.next();!l.done;l=f.next())l=l.value,70<q.length+l.length&&(console.assert(70>l.length),
w.push(q),q=""),q+=l;w.push(q);return w.join("\n")}}}();(function(){function a(m,z){m.endsWith(".mc")||(m+=".rle");return z&&"localhost"!==location.hostname?("http:"===location.protocol?"http:":"https:")+"//copy.sh/life/examples/"+m:"examples/"+m}function b(m){ca?(ca=!1,p(e("run_button"),"Run"),La=m):m&&m()}function c(){v.u="#000000";v.j="#cccccc";v.i=.25;v.a=2;t.v=8;t.w=12;Y(t,0);p(e("label_step"),"1");aa=20;p(e("label_zoom"),"1:2");J(e("label_mou"));v.A()}function d(m,z,B,D,Q){var R=m.startsWith("[M2]");if(R)G={s:"",urls:[],O:""};else{var G=pb.ba(m.trim());
if(G.error){p(e("import_info"),G.error);return}}b(function(){Oa(t);if(R){a:{var U=t,Z=m.split("\n");if(Z[0].startsWith("[M2]")){for(var T=0,P=1;P<Z.length;P++)if("#"!==Z[P][0]){T=P;break}if(T){for(P=[void 0];T<Z.length;T++){var H=Z[T],M=H[0];if("$"===M||"."===M||"*"===M){M=[];for(var N=[],O=0,h=0,y=0;y<H.length;y++){var K=H[y];"$"===K?(O=0,h++,console.assert(8>=h,"x")):"."===K?(O++,console.assert(8>=O,"y")):"*"===K?(M.push(O),N.push(h),O++):"\r"!==K&&console.assert(!1,"Unexpected piece: '"+K+"'")}H=
kb(U,0,M.length-1,M,N,3);P.push(H)}else""!==H&&(H=H.split(" "),console.assert(5===H.length,"length"),N=fa(H),H=N.next().value,O=N.next().value,h=N.next().value,M=N.next().value,N=N.next().value,H=+H,O=+O,h=+h,M=+M,N=+N,console.assert(4<=H),console.assert(0<=O),console.assert(0<=h),console.assert(0<=M),console.assert(0<=N),O=0===O?Xa(U,H-1):P[O],h=0===h?Xa(U,H-1):P[h],M=0===M?Xa(U,H-1):P[M],N=0===N?Xa(U,H-1):P[N],console.assert(O.level===H-1),console.assert(O),console.assert(h),console.assert(M),console.assert(N),
H=E(U,O,h,M,N),P.push(H))}U.root=P[P.length-1];G=pb.aa(m.substr(m.indexOf("\n")+1),"#");break a}}G=void 0}Y(t,15);p(e("label_step"),Math.pow(2,15))}else U=db(G.H,G.I),eb(G.H,G.I,U),jb(t,G.H,G.I,U);Q&&!G.title&&(G.title=Q);z&&!G.title&&(G.title=z);t.A=t.root;G.w&&G.v?mb(t,G.w,G.v):mb(t,12,8);l();g();v.m(t.root);q();p(e("pattern_name"),G.title||"no name");u(G.title);document.querySelector("meta[name=description]").content=G.s.replace(/\n/g," - ")+" - "+fb;!B&&z&&(B=a(z,!0));!D&&z&&(D=("http:"===location.protocol?
"http:":"https:")+"//copy.sh/life/?pattern="+z);da={title:G.title,s:G.s,urls:G.urls,R:D,P:B}})}function g(){var m=Va(t);v.J(m)}function k(){function m(){if(ca){var U=Date.now();D*z<U-R&&(ab(t,!0),v.m(t.root),z++,B+=(-G-B+(G=U))/15,B<.7*D&&(z=1,R=Date.now()));qb(m)}else clearInterval(Q),q(1E3/B),La&&La()}var z=0,B=1E3/aa,D=B;p(e("run_button"),"Stop");ca=!0;0===t.j&&(t.A=t.root);var Q=setInterval(function(){q(1E3/B)},666);var R=Date.now();var G=R-D;m()}function r(m){var z=Date.now();0===t.j&&(t.A=t.root);
ab(t,m);v.m(t.root);q(1E3/(Date.now()-z));3>z&&p(e("label_fps"),"> 9000")}function x(m){if(m.title||m.s||m.urls.length){f("alert");p(e("pattern_title"),m.title||"");p(e("pattern_description"),m.s||"");e("pattern_urls").innerHTML="";for(var z=fa(m.urls),B=z.next();!B.done;B=z.next()){B=B.value;var D=document.createElement("a");D.href=B;D.textContent=B;D.target="_blank";e("pattern_urls").appendChild(D);e("pattern_urls").appendChild(document.createElement("br"))}m.R?(I(e("pattern_link_container")),p(e("pattern_link"),
m.R),e("pattern_link").href=m.R):A(e("pattern_link_container"));m.P?(I(e("pattern_file_container")),p(e("pattern_file_link"),m.P),e("pattern_file_link").href=m.P):A(e("pattern_file_container"))}}function f(m){I(e("overlay"));document.body.style.overflow="auto";for(var z=e("overlay").children,B=0;B<z.length;B++){var D=z[B];D.id===m?I(D):A(D)}}function l(){A(e("overlay"));document.body.style.overflow="hidden"}function q(m){m&&p(e("label_fps"),m.toFixed(1));p(e("label_gen"),na(t.j,"\u202f"));J(e("label_gen"));
p(e("label_pop"),na(t.root.h,"\u202f"));J(e("label_pop"));1<=v.a?p(e("label_zoom"),"1:"+v.a):p(e("label_zoom"),1/v.a+":1")}function w(m){(!ca||15>aa)&&v.m(m)}function p(m,z){m.textContent=String(z)}function J(m){m.style.padding="0";m.style.width="";if(!m.N||m.N<m.offsetWidth)m.N=m.offsetWidth;m.style.padding="";m.style.width=m.N+"px"}function L(m,z,B){var D=new XMLHttpRequest;D.onreadystatechange=function(){4===D.readyState&&(200===D.status?z(D.responseText,m):B&&B(D.responseText,D.status))};D.open("get",
m,!0);D.send("");return{cancel:function(){D.abort()}}}function F(m){if(null!==ea){var z=Math.round(m.clientX-ea);m=Math.round(m.clientY-la);v.l(z,m);ea+=z;la+=m}}function C(m){m=v.C(m.clientX,m.clientY);if(m.x!==ea||m.y!==la){a:{var z=t,B=m.x,D=m.y,Q=Ma,R=Ta({x:B,y:D});if(Q)for(;R>z.root.level;)z.root=Ya(z,z.root);else if(R>z.root.level)break a;z.root=nb(z,z.root,B,D,Q)}q();v.G(m.x,m.y,Ma);ea=m.x;la=m.y}}function e(m){return document.getElementById(m)}function n(m){window.history.replaceState&&(m?
window.history.replaceState(null,"","?pattern="+m):window.history.replaceState(null,"","/life/"))}function u(m){document.title=m?m+" - "+oa:oa}function A(m){m.style.display="none"}function I(m){m.style.display="block"}function na(m,z){function B(D){return 3>D.length?D:B(D.slice(0,-3))+z+D.slice(-3)}return 0>m?"-"+na(-m,z):isNaN(m)||!isFinite(m)||1E21<=m?m+"":B(m+"")}function wa(m,z){var B;return function(){var D=this,Q=arguments;clearTimeout(B);B=setTimeout(function(){m.apply(D,Array.prototype.slice.call(Q))},
z)}}var oa=document.title,fb="";if(document.addEventListener){var da,La,ea,la,Ma,ca=!1,aa,Na=!1,gb=!1,t=new Ka,v=new Ja,hb="turingmachine,Turing Machine;gunstar,Gunstar;hacksaw,Hacksaw;tetheredrake,Tethered rake;primer,Primer;infinitegliderhotel,Infinite glider hotel;p94s,P94S;breeder1,Breeder 1;tlogtgrowth,tlog(t) growth;logt2growth,Log(t)^2 growth;infinitelwsshotel,Infinite LWSS hotel;c5greyship,c/5 greyship".split(";"),qb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
setTimeout;window.onload=function(){function m(T){f("loading_popup");L(a(T),function(P){d(P,G)},function(){z()})}function z(){var T=hb[Math.random()*hb.length|0].split(",")[0];f("loading_popup");L(a(T),function(P){d(P,T)})}if(!gb)if(gb=!0,fb=document.querySelector("meta[name=description]").content,v.K()){(function(){function T(h){console.assert(2<=h.length);return Math.sqrt((h[0].clientX-h[1].clientX)*(h[0].clientX-h[1].clientX)+(h[0].clientY-h[1].clientY)*(h[0].clientY-h[1].clientY))}e("about_close").style.display=
"inline";A(e("notice"));l();I(e("toolbar"));I(e("statusbar"));I(e("about_main"));var P=document.createElement("style");document.head.appendChild(P);window.onresize=wa(function(){v.D();requestAnimationFrame(w.bind(0,t.root))},500);e("gen_step").onchange=function(){if("number"===this.type){var h=Number(this.value);if(h){var y=Math.pow(2,Math.round(Math.log(h)/Math.LN2));this.value=1>=h?1:y;this.step=this.value/2}}};e("run_button").onclick=function(){ca?b():k()};e("step_button").onclick=function(){ca||
r(!0)};e("superstep_button").onclick=function(){ca||r(!1)};e("clear_button").onclick=function(){b(function(){u();p(e("pattern_name"),"");n("");Oa(t);q();v.A();v.m(t.root)})};e("rewind_button").onclick=function(){t.A&&b(function(){var h=t;h.j=0;h.root=h.A;$a(h);g();v.m(t.root);q()})};v.canvas.onmousedown=function(h){if(3===h.which||2===h.which){if(1<=v.a){var y=v.C(h.clientX,h.clientY);Ma=!Sa(t,y.x,y.y);window.addEventListener("mousemove",C,!0);C(h)}}else 1===h.which&&(ea=h.clientX,la=h.clientY,window.addEventListener("mousemove",
F,!0),function S(){null!==ea&&requestAnimationFrame(S);w(t.root)}());return!1};var H=!1,M=0;v.canvas.addEventListener("touchstart",function(h){2===h.touches.length?(H=!0,M=T(h.touches),h.preventDefault()):1===h.touches.length&&(v.canvas.onmousedown({which:1,clientX:h.changedTouches[0].clientX,clientY:h.changedTouches[0].clientY}),h.preventDefault())},!1);v.canvas.addEventListener("touchmove",function(h){if(H){h=T(h.touches);for(var y=!1;50<M-h;)M-=50,v.o(!0),y=!0;for(;-50>M-h;)M+=50,v.o(!1),y=!0;
y&&(q(),w(t.root))}else F({clientX:h.changedTouches[0].clientX,clientY:h.changedTouches[0].clientY}),h.preventDefault()},!1);v.canvas.addEventListener("touchend",function(h){window.onmouseup(h);h.preventDefault();H=!1},!1);v.canvas.addEventListener("touchcancel",function(h){window.onmouseup(h);h.preventDefault();H=!1},!1);window.onmouseup=function(){la=ea=null;window.removeEventListener("mousemove",C,!0);window.removeEventListener("mousemove",F,!0)};window.onmousemove=function(h){h=v.C(h.clientX,
h.clientY);p(e("label_mou"),h.x+", "+h.y);J(e("label_mou"))};v.canvas.oncontextmenu=function(){return!1};v.canvas.onmousewheel=function(h){h.preventDefault();v.W(0>(h.wheelDelta||-h.detail),h.clientX,h.clientY);q();w(t.root);return!1};v.canvas.addEventListener("DOMMouseScroll",v.canvas.onmousewheel,!1);window.onkeydown=function(h){var y=h.which,K=!1,S=h.target.nodeName;if("INPUT"===S||"TEXTAREA"===S||h.ctrlKey||h.shiftKey||h.altKey)return!0;if(37===y||72===y)v.l(15,0),K=!0;else if(38===y||75===y)v.l(0,
15),K=!0;else if(39===y||76===y)v.l(-15,0),K=!0;else if(40===y||74===y)v.l(0,-15),K=!0;else{if(27===y)return l(),!1;if(13===y)return e("run_button").onclick(),!1;if(32===y)return e("step_button").onclick(),!1;if(9===y)return e("superstep_button").onclick(),!1;if(189===y||173===y||109===y)v.o(!0),K=!0;else if(187===y||61===y)v.o(!1),K=!0;else{if(8===y)return e("rewind_button").onclick(),!1;if(219===y||221===y)return h=t.step,219===y?h--:h++,0<=h&&(Y(t,h),p(e("label_step"),Math.pow(2,h))),!1}}return K?
(w(t.root),!1):!0};e("faster_button").onclick=function(){var h=t.step+1;Y(t,h);p(e("label_step"),Math.pow(2,h))};e("slower_button").onclick=function(){if(0<t.step){var h=t.step-1;Y(t,h);p(e("label_step"),Math.pow(2,h))}};e("normalspeed_button").onclick=function(){Y(t,0);p(e("label_step"),1)};e("zoomin_button").onclick=function(){v.o(!1);q();w(t.root)};e("zoomout_button").onclick=function(){v.o(!0);q();w(t.root)};e("initial_pos_button").onclick=function(){g();w(t.root);q()};e("middle_button").onclick=
function(){v.A();w(t.root)};for(var N=[["ne",1,-1],["nw",-1,-1],["se",1,1],["sw",-1,1],["n",0,-1],["e",-1,0],["s",0,1],["w",1,0]],O=0;O<N.length;O++)document.getElementById(N[O][0]+"_button").onclick=function(h){return function(){v.l(-30*h[1],-30*h[2]);w(t.root)}}(N[O]);N=e("select_rules").getElementsByTagName("span");for(O=0;O<N.length;O++)N[O].onclick=function(){e("rule").value=this.getAttribute("data-rule")};e("import_submit").onclick=function(){function h(W){d(W,void 0);y!==da.title&&(x(da),e("import_file").value=
"")}var y=da&&da.title,K=e("import_file").files;if(K&&K.length){var S=new FileReader;S.onload=function(){h(S.result)};S.readAsText(K[0])}else h(e("import_text").value)};e("import_abort").onclick=function(){l()};e("import_button").onclick=function(){f("import_dialog");e("import_text").value="";p(e("import_info"),"")};e("export_button").onclick=function(){var h=pb.Z(t,void 0,["Generated by copy.sh/life"]),y=document.createElement("a");y.download="pattern.rle";y.href=window.URL.createObjectURL(new Blob([h]));
y.dataset.downloadurl=["text/plain",y.download,y.href].join(":");document.createEvent?(h=document.createEvent("MouseEvent"),h.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),y.dispatchEvent(h)):y.click();window.URL.revokeObjectURL(y.href)};e("randomize_button").onclick=function(){e("randomize_density").value=.5;e("randomize_width").value=200;e("randomize_height").value=200;f("randomize_dialog")};e("randomize_submit").onclick=function(){var h=Math.max(0,Math.min(1,+e("randomize_density").value))||
.5,y=Math.max(0,+e("randomize_width").value)||200,K=Math.max(0,+e("randomize_height").value)||200;b(function(){Oa(t);for(var S=new Int32Array(Math.round(y*K*h)),W=new Int32Array(S.length),X=0;X<S.length;X++)S[X]=Math.random()*y,W[X]=Math.random()*K;X=db(S,W);eb(S,W,X);jb(t,S,W,X);t.A=t.root;l();g();w(t.root);q();p(e("pattern_name"),"Random pattern");u("Random pattern");da={title:"Random pattern",s:""}})};e("settings_submit").onclick=function(){l();var h=pb.S(e("rule").value,!0);var y=pb.S(e("rule").value,
!1);var K=Math.round(Math.log(Number(e("gen_step").value)||0)/Math.LN2);mb(t,h,y);!K||0>K?(Y(t,0),p(e("label_step"),"1")):(Y(t,K),p(e("label_step"),Math.pow(2,K)));aa=Number(e("max_fps").value);if(!aa||0>aa)aa=20;v.i=parseFloat(e("border_width").value);if(isNaN(v.i)||0>v.i||.5<v.i)v.i=.25;P.appendChild(document.createTextNode(".button,.menu>div{background-color:"+v.j+";box-shadow:2px 2px 4px "+v.j+"}#statusbar>div{border-color:"+v.j+"}"));e("pattern_name").style.color=e("statusbar").style.color=v.j;
e("statusbar").style.textShadow="0px 0px 1px "+v.j;e("toolbar").style.color=v.u;w(t.root)};e("settings_reset").onclick=function(){c();w(t.root);l()};e("settings_button").onclick=function(){f("settings_dialog");e("rule").value=pb.V(t.w,t.v);e("max_fps").value=aa;e("gen_step").value=Math.pow(2,t.step);e("border_width").value=v.i};e("settings_abort").onclick=e("pattern_close").onclick=e("alert_close").onclick=e("randomize_abort").onclick=e("about_close").onclick=function(){l()};e("pattern_name").onclick=
function(){x(da)};e("about_button").onclick=function(){f("about")};e("pattern_button").onclick=function(){Na?f("pattern_chooser"):(Na=Na=!0,f("loading_popup"),L("examples/list",function(h){h=h.split("\n");var y=e("pattern_list");f("pattern_chooser");h.forEach(function(K){var S=K.split(" ")[0];K=K.split(" ")[1];var W=document.createElement("div"),X=document.createElement("span");p(W,S);p(X,K);X.className="size";W.appendChild(X);y.appendChild(W);W.onclick=function(){f("loading_popup");L(a(S),function(rb){d(rb,
S);n(S);x(da);Y(t,0);p(e("label_step"),"1")})}})}))}})();v.D();c();for(var B=location.search.substr(1).split("&"),D,Q={},R=0;R<B.length;R++)D=B[R].split("="),Q[D[0]]=D[1];Q.step&&/^\d+$/.test(Q.step)&&Y(t,Math.round(Math.log(Number(Q.step))/Math.LN2));var G=Q.pattern,U=G&&/^[a-z0-9_\.\-]+$/i.test(G),Z=Q.gist;Z&&/^[a-fA-F0-9]+$/.test(Z)?(f("loading_popup"),R="finish_load_gist"+(2147483647*Math.random()|0),window[R]=function(T){if(T=T.data.files)for(var P=fa(Object.keys(T)),H=P.next();!H.done;H=P.next()){H=
H.value;var M=T[H];d(M.content,void 0,M.raw_url,"https://copy.sh/life/?gist="+Z,H)}else U?m(G):z()},B=document.createElement("script"),B.src="https://api.github.com/gists/"+Z+"?callback="+R,document.getElementsByTagName("head")[0].appendChild(B)):U?"1"===Q.meta?z():m(G):z();if("1"===Q.noui)for(B="statusbar about_button examples_menu import_button settings_button zoomout_button zoomin_button clear_button superstep_button step_button rewind_button".split(" "),R=0;R<B.length;R++)e(B[R]).style.display=
"none";Q.fps&&/^\d+$/.test(Q.fps)&&(aa=+Q.fps)}else p(e("notice").getElementsByTagName("h4")[0],"Canvas-less browsers are not supported. I'm sorry for that.")};document.addEventListener("DOMContentLoaded",window.onload,!1)}})();
</script>
</head>
<body>
<div id="toolbar" style="display: none;">

    <div class="button" id="about_button">About</div>
    <div class="menu" id="examples_menu">
        <div id="pattern_button">Patterns</div>
    </div>
    <div id="randomize_button" class="button">Randomize</div>
    <div id="export_button" class="button">Export</div>
    <div id="import_button" class="button">Import</div>
    <div class="button" id="settings_button">Settings</div>
    <div class="button" id="clear_button">Clear</div>
    <div class="button" style="display: none" id="superstep_button">Superstep</div>
    <div class="button" id="step_button">Step</div>
    <div class="button" id="rewind_button">Rewind</div>
    <div class="button" id="run_button">Run</div>

    <table id="controls">
        <tr>
            <td title="Normal speed"><div id="normalspeed_button">1</div></td>
            <td title="Slower"><div id="slower_button">&#171;</div></td>
            <td title="Faster"><div id="faster_button">&#187;</div></td>
        </tr>
        <tr>
            <td title="Fit pattern"><div id="initial_pos_button">F</div></td>
            <td title="Zoom in"><div id="zoomin_button">+</div></td>
            <td title="Zoom out"><div id="zoomout_button">&ndash;</div></td>
        </tr>
        <tr class="not_on_small_screen">
            <td title="Go north-west"><div id="nw_button">&#8598;</div></td>
            <td title="Go north"><div id="n_button">&#8593;</div></td>
            <td title="Go north-east"><div id="ne_button">&#8599;</div></td>
        </tr>
        <tr class="not_on_small_screen">
            <td title="Go east"><div id="e_button">&#8592;</div></td>
            <td title="Go to 0, 0"><div id="middle_button">M</div></td>
            <td title="Go west"><div id="w_button">&#8594;</div></td>
        </tr>
        <tr class="not_on_small_screen">
            <td title="Go south-west"><div id="sw_button">&#8601;</div></td>
            <td title="Go south"><div id="s_button">&#8595;</div></td>
            <td title="Go south-east"><div id="se_button">&#8600;</div></td>
        </tr>
    </table>
</div>
<div id="statusbar" style="display: none;">
    <div id="label_zoom" title="Zoom"></div>
    <div id="label_mou" title="Mouse Coordinates">0, 0</div>
    <div id="label_fps" title="Frames per Second">0</div>
    <div id="label_gen" title="Generation">0</div>
    <div id="label_pop" title="Population">0</div>
    <div id="label_step" title="Generation per Step">1</div>
    <span id="pattern_name" class="link" title="Pattern infos"></span>
</div>
<div id="overlay">
    <div id="about">
        <h2>Conway's Game of Life viewer</h2>
        <div id="notice">
            <h3 style="color: orange">Sorry, this applications needs JavaScript to work.</h3>
            <div style="text-align: center">
                <img src="http://copy.sh/life/pattern.gif" style="image-rendering: crisp-edges; image-rendering: pixelated" width="324" height="210" alt="Bi Gun">
            </div>
            <br>
            <br>
        </div>
        This is an implementation of <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" target="_blank" rel="noopener">Conway's Game of Life</a> or
        more precisely, the super-fast <a href="https://en.wikipedia.org/wiki/Hashlife" target="_blank" rel="noopener">Hashlife</a> algorithm,
        written in JavaScript using the <code>canvas</code>-tag. It can simulate the largest known patterns, including the
        <a href="?pattern=TetrisOTCAMP.mc" title="Click to load" class="link">Tetris Processor</a> (0.1MB, 29201m cells),
        <a href="?pattern=caterpillar.mc" title="Click to load" class="link">Caterpillar</a> (2.5MB, 11m cells),
        <a href="?pattern=gemini" title="Click to load" class="link">Gemini</a> (1.4MB, 846k cells),
        <a href="?pattern=universalturingmachine" title="Click to load" class="link">Turing Machine</a> (0.1MB, 252k cells) and
        <a href="?pattern=metapixel-parity64.mc" title="Click to load" class="link">large Metapixel patterns</a> (0.1MB, 100m cells).
        <br>
        <br>
        <div id="about_main" style="display: none">
            If you encounter any bugs or have feedback, you can contact me at <a title="Click to show Email" href="?pattern=email">this email</a>.<br>
            <br>
            Click on the pattern name on the bottom left to get some informations about the current pattern.
            <br>
            <br>
            <a href="examples/" target="_blank" rel="noopener">List of all patterns</a> &mdash;
            <a href="https://github.com/copy/life" target="_blank" rel="noopener">Source code on Github</a> &mdash;
            <a href="https://github.com/copy/life/issues" target="_blank" rel="noopener">Report an issue</a>
            <br>
            <br>
            <b>Controls:</b>
            <pre>
        Left mouse          - Move around
        Right mouse         - Create / Delete cells
        Mouse wheel         - Zoom

        Arrow keys, HJKL    - Move around
        +, -                - Zoom
        Space               - One generation forward
        Tab                 - Many generations forward
        Enter               - Run/Pause
        Backspace           - Rewind
        ]                   - Faster
        [                   - Slower
        Escape              - Close Popups
            </pre>
            <b>External links</b>
            <ul>
                <li><a href="http://www.conwaylife.com/wiki/Main_Page" target="_blank" rel="noopener">LifeWiki</a></li>
                <li><a href="http://www.conwaylife.com/forums/" target="_blank" rel="noopener">ConwayLife forums</a></li>
                <li><a href="http://golly.sourceforge.net/" target="_blank" rel="noopener">Golly</a> &mdash; A desktop life viewer</li>
            </ul>
        </div>
        <br>
        <br>
        <span class="button2" id="about_close" style="display: none">Ok</span>
    </div>
    <div id="randomize_dialog" style="display: none;">
        <h2>Random Pattern</h2>
        <div class="left">
            Width
        </div>
        <div class="right">
            <input type="number" min="1" id="randomize_width" style="width: 60px">
        </div>
        <br class="clear">
        <br>
        <div class="left">
            Height
        </div>
        <div class="right">
            <input type="number" min="1" id="randomize_height" style="width: 60px">
        </div>
        <br class="clear">
        <br>
        <div class="left">
            Density
        </div>
        <div class="right">
            <input type="number" id="randomize_density" min="0" max="1" step="0.1" style="width: 60px">
        </div>
        <br class="clear">
        <br>
        <br>
        <br>
        <span id="randomize_submit" class="button2">Randomize</span>
        <span id="randomize_abort" class="button2">Abort</span>
    </div>
    <div id="import_dialog" style="display: none;">
        <h2>Import Pattern</h2>
        Supports RLE, Life 1.06, Plaintext
        <br>
        <br>
        <textarea placeholder="Paste pattern file here" id="import_text"></textarea>
        <br>
        Or: <input type="file" id="import_file">
        <br>
        <br>
        <div id="import_info"></div>
        <br>
        <br>
        <br>
        <span id="import_submit" class="button2">Import</span>
        <span id="import_abort" class="button2">Abort</span>
    </div>
    <div id="alert" style="display: none;">
        <div id="alert_text">
            <h2 id="pattern_title"></h2>
            <div id="pattern_description"></div>
            <br>
            <div id="pattern_urls"></div>
            <br>
            <div id="pattern_file_container">
                Pattern file: <a target="_blank" id="pattern_file_link" href="" rel="noopener"></a>
            </div>
            <div id="pattern_link_container">
                Link to view online:
                <a id="pattern_link" target="_blank" href="" rel="noopener"></a>
            </div>
        </div>
        <br>
        <br>
        <span class="button2" id="alert_close">Ok</span>
    </div>
    <div id="pattern_chooser" style="display: none;">
        Source: <a href="http://www.conwaylife.com/wiki/Main_Page" target="_blank" rel="noopener">www.conwaylife.com</a>. Thanks!
        &mdash; <a href="examples/" target="_blank">List of all patterns</a>
        <div id="pattern_list"></div>
        <span class="button2" id="pattern_close">Close</span>
    </div>
    <div id="settings_dialog" style="display: none;">
        <h2>Settings</h2>
        <div class="left" id="select_rules">
            Rule<br>
            <small>
                Or pick one:
                <span class="link" data-rule="23/3">Conway</span>
                <span class="link" data-rule="23/36">HighLife</span>
                <span class="link" data-rule="125/36">2x2</span>
                <span class="link" data-rule="1357/1357">Replicator</span>
            </small>
        </div>
        <div class="right">
            <input type="text" id="rule">
        </div>
        <br class="clear">
        <br>
        <div class="left">
            Maximum Frames per Second
        </div>
        <div class="right">
            <input type="number" min="1" id="max_fps" style="width: 60px">
        </div>
        <br class="clear">
        <br>
        <div class="left">
            Generation step<br>
            <small>Only powers of 2 (automatically rounded)</small>
        </div>
        <div class="right">
            <input type="number" step="any" id="gen_step" style="width: 60px">
        </div>
        <br class="clear">
        <br>
        <div class="left">
            Border width<br>
            <small>0 .. 0.5</small>
        </div>
        <div class="right">
            <input type="number" min="0" max="0.5" step="0.05" id="border_width" style="width: 60px">
        </div>
        <br>
        <br>
        <br>
        <hr>
        <br>
        <br>
        <span id="settings_submit" class="button2">Save</span>
        <span id="settings_reset" class="button2">Reset</span>
        <span id="settings_abort" class="button2">Abort</span>
    </div>
    <div id="loading_popup" style="display: none; font-size: 16px">
        <div style="text-align: center">
            <h2>Downloading pattern file</h2>
            Please wait a second. (Click "settings" in the corner and then the save button. This pattern thing is a bug to be fixed soon)<br><br>
            <img src="http://copy.sh/life/pattern.gif" style="image-rendering: crisp-edges; image-rendering: pixelated" width="324" height="210" alt="Bi Gun">
        </div>
    </div>
</div>
<script>document.getElementById("overlay").style.display = "none"</script>
</body>
</html>
